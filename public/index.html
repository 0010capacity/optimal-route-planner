<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>Optimal Route Planner</title>

    <!-- Naver Maps API Script -->
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=3hku2yfd31"></script>

    <!-- Kakao Maps JavaScript SDK v2 (Places ì„œë¹„ìŠ¤ í¬í•¨) -->
    <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=5be0a34292474922b240a1bd76ad518c&libraries=services"></script>

    <!-- Kakao SDK v2 ì´ˆê¸°í™” ë° ë¡œë“œ ëª¨ë‹ˆí„°ë§ -->
    <script>
      console.log('ğŸ”„ Kakao SDK v2 ì´ˆê¸°í™” ì‹œë„ ì‹œì‘');

      // Kakao SDK ë¡œë“œ ìƒíƒœ ì¶”ì 
      window.kakaoSdkReady = false;

      // SDK ë¡œë“œ í™•ì¸ ë° ì´ˆê¸°í™” (v2 ë°©ì‹)
      const initKakaoSdk = () => {
        console.log('ğŸ” Kakao SDK v2 ë¡œë“œ ìƒíƒœ í™•ì¸ ì¤‘...');

        if (window.kakao && window.kakao.maps) {
          console.log('âœ… Kakao SDK v2 ë°œê²¬ë¨');

          try {
            // v2ì—ì„œëŠ” appkeyë¥¼ URLë¡œ ì „ë‹¬í•˜ë¯€ë¡œ ë³„ë„ init() ë¶ˆí•„ìš”
            console.log('ğŸ¯ Kakao SDK v2 ì´ˆê¸°í™” (URL íŒŒë¼ë¯¸í„° ë°©ì‹ ì‚¬ìš©)');

            // Maps SDK ë¡œë“œ
            window.kakao.maps.load(() => {
              console.log('ğŸš€ Kakao Maps SDK v2 ë¡œë“œ ì™„ë£Œ');
              console.log('ğŸ“‹ ì‚¬ìš© ê°€ëŠ¥í•œ kakao.maps ì†ì„±:', Object.keys(window.kakao.maps));
              console.log('ğŸ“‹ ì‚¬ìš© ê°€ëŠ¥í•œ kakao.maps.services ì†ì„±:', Object.keys(window.kakao.maps.services));
              console.log('ğŸ“‹ Places ì„œë¹„ìŠ¤ ì‚¬ìš© ê°€ëŠ¥:', typeof window.kakao.maps.services.Places);

              window.kakaoSdkReady = true;
              console.log('ğŸ‰ Kakao SDK v2 ì™„ì „ ì´ˆê¸°í™” ì™„ë£Œ - ëª¨ë“  ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥');
            });

          } catch (error) {
            console.error('âŒ Kakao SDK v2 ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
          }

        } else {
          console.log('â³ Kakao SDK v2 ì•„ì§ ë¡œë“œë˜ì§€ ì•ŠìŒ, 200ms í›„ ì¬ì‹œë„...');
          setTimeout(initKakaoSdk, 200);
        }
      };

      // ì´ˆê¸°í™” ì‹œì‘
      setTimeout(initKakaoSdk, 100);
    </script>

    <!-- Google Maps API Script with Places Library -->
    <script>
      (function() {
        // Google Maps API ë¡œë“œ ìƒíƒœ ì¶”ì 
        window.googleMapsLoaded = false;

        // ì½œë°± í•¨ìˆ˜ ì •ì˜
        window.initGoogleMaps = function() {
          window.googleMapsLoaded = true;
          console.log('Google Maps API loaded successfully');
        };

        // ìŠ¤í¬ë¦½íŠ¸ ë™ì  ë¡œë“œ
        const script = document.createElement('script');
        script.src = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyCuI4OfM-oPbnKoes_uaYfUWZ2f-btjgtQ&v=weekly&libraries=places&callback=initGoogleMaps';
        script.async = true;
        script.defer = true;

        // ë¡œë“œ ì™„ë£Œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        script.onload = function() {
          console.log('Google Maps script loaded');
        };

        script.onerror = function() {
          console.error('Failed to load Google Maps script');
        };

        document.head.appendChild(script);
      })();
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
